(cd tests && bsb -clean-world && bsb -make-world && ./lib/bs/native/indexnative.native)
ninja: Entering directory `/mnt/internal/home/fox/development/laztic/laz-framework/server/coroutine_ppx/tests/lib/bs/native'
[1/4] [34mBuilding[39m [2msrc/native/IndexNativeCpsed.mlast[22m
[2/4] [34mBuilding[39m [2msrc/native/IndexNativeCpsed.mlast.d[22m
[3/4] [34mBuilding[39m [2msrc/native/IndexNative.mlast[22m
[4/4] [34mBuilding[39m [2msrc/native/IndexNative.mlast.d[22m
[1/3] [34mBuilding[39m [2msrc/native/IndexNativeCpsed.cmx[22m
[2/3] [34mBuilding[39m [2msrc/native/IndexNative.cmx[22m

  Warning number 21
  /mnt/internal/home/fox/development/laztic/laz-framework/server/coroutine_ppx/tests/src/native/IndexNative.re 14:9-29
  
  12 â”† {
  13 â”†   ();
  14 â”†   raise(LocalException);
  15 â”†   println("defer branch 1");
  16 â”†   continuation#resume("001");
  
  this statement never returns (or has an unsound type.)

  Warning number 10
  /mnt/internal/home/fox/development/laztic/laz-framework/server/coroutine_ppx/tests/src/native/IndexNative.re 83:9-13
  
  81 â”†   };
  82 â”† 
  83 â”† [@defer]
  84 â”† {
  85 â”†   ();
  
  this expression should have type unit.

  Warning number 10
  (No file name)
  
  this expression should have type unit.

  Warning number 10
  /mnt/internal/home/fox/development/laztic/laz-framework/server/coroutine_ppx/tests/src/native/IndexNative.re 72:13-17
  
  70 â”†   println("catch branch 1");
  71 â”†   firstCps(", 55");
  72 â”†   "cc1";
  73 â”†   raise(LocalException);
  74 â”† | error => raise(error)
  
  this expression should have type unit.

  Warning number 10
  (No file name)
  
  this expression should have type unit.

  Warning number 10
  (No file name)
  
  this expression should have type unit.

  Warning number 10
  (No file name)
  
  this expression should have type unit.

  Warning number 10
  /mnt/internal/home/fox/development/laztic/laz-framework/server/coroutine_ppx/tests/src/native/IndexNative.re 55:11-15
  
  53 â”†   println("switch result is: " ++ v);
  54 â”†   firstCps(", 55");
  55 â”†   "cc1";
  56 â”†   raise(LocalException);
  57 â”† | error => raise(error)
  
  this expression should have type unit.

  Warning number 10
  (No file name)
  
  this expression should have type unit.

  Warning number 10
  (No file name)
  
  this expression should have type unit.

  Warning number 10
  (No file name)
  
  this expression should have type unit.

  Warning number 27
  /mnt/internal/home/fox/development/laztic/laz-framework/server/coroutine_ppx/tests/src/native/IndexNative.re 2:15-19
  
  1 â”‚ let println = print_endline;
  2 â”‚ let debugln = value => ();
  3 â”‚ 
  4 â”‚ exception Exception;
  
  unused variable value.

  Warning number 27
  /mnt/internal/home/fox/development/laztic/laz-framework/server/coroutine_ppx/tests/src/native/IndexNative.re 10:5
  
   8 â”† [@cps]
   9 â”† (
  10 â”†   x =>
  11 â”†     [@defer]
  12 â”†     {
  
  unused variable x.

  Warning number 27
  /mnt/internal/home/fox/development/laztic/laz-framework/server/coroutine_ppx/tests/src/native/IndexNative.re 37:5
  
  35 â”† [@cps]
  36 â”† (
  37 â”†   x => {
  38 â”†     try (
  39 â”†       try (firstErrorCps(", 1")) {
  
  unused variable x.

  Warning number 27
  /mnt/internal/home/fox/development/laztic/laz-framework/server/coroutine_ppx/tests/src/native/IndexNative.re 103:21-23
  
  101 â”† {
  102 â”†   pub self = this;
  103 â”†   pub onDefer = loc => {
  104 â”†     ();
  105 â”†     /* println("continuation onDefer: " ++ loc); */
  
  unused variable loc.

  Warning number 27
  /mnt/internal/home/fox/development/laztic/laz-framework/server/coroutine_ppx/tests/src/native/IndexNative.re 108:22-24
  
  106 â”†   ();
  107 â”† };
  108 â”† pub onResume = loc => {
  109 â”†   ();
  110 â”†   /* println("continuation onResume: " ++ loc); */
  
  unused variable loc.

  Warning number 27
  /mnt/internal/home/fox/development/laztic/laz-framework/server/coroutine_ppx/tests/src/native/IndexNative.re 113:21-23
  
  111 â”†   ();
  112 â”† };
  113 â”† pub onError = loc => {
  114 â”†   ();
  115 â”†   /* println("continuation onError: " ++ loc); */
  
  unused variable loc.
[3/3] [34mBuilding[39m [2mindexnative.native[22m
catch branch 1
defer branch 1
switch: pattern 1 matched: xx1xx2
switch result is: xx1xx2
defer branch 1
catch branch 2
catch branch 1
defer branch 1
catch branch 2
defer branch 2 : res=cc1
continuation result is: cc1
::cps finished::
